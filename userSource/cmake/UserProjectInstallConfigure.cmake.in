

# https://cmake.org/cmake/help/latest/command/file.html#get-runtime-dependencies
file(GET_RUNTIME_DEPENDENCIES
    RESOLVED_DEPENDENCIES_VAR deps_resolved
    UNRESOLVED_DEPENDENCIES_VAR deps_unresolved
    CONFLICTING_DEPENDENCIES_PREFIX deps_conflicting

	EXECUTABLES ${USER_TARGET_FILE}
    DIRECTORIES @USER_DEP_DIR@

    POST_EXCLUDE_REGEXES @USER_POST_EXCLUDE_REGEXES@
)

if (@USER_SHOW_DEPS@)
    message(STATUS "deps_resolved    : ${deps_resolved}")
    message(STATUS "deps_unresolved  : ${deps_unresolved}")
    message(STATUS "deps_conflicting : ${deps_conflicting}")

    message(STATUS "CMAKE CMAKE_INSTALL_PREFIX : @CMAKE_INSTALL_PREFIX@")
    message(STATUS "CPACK CMAKE_INSTALL_PREFIX : ${CMAKE_INSTALL_PREFIX}")
endif()

file(INSTALL ${deps_resolved} DESTINATION ${CMAKE_INSTALL_PREFIX}/lib FOLLOW_SYMLINK_CHAIN)
